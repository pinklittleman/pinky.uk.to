<!doctype html>
<html>
<head>
  <title>TCP Client</title>
</head>
<body>
  <h1>TCP Client</h1>
  <p>Enter a message to send to the server:</p>
  <form id="form">
    <input type="text" id="message" />
    <button type="submit">Send</button>
  </form>
  <script>
    const form = document.getElementById('form');
    const messageInput = document.getElementById('message');

form.addEventListener('submit', (event) => {
  event.preventDefault();

  // Create a new WebSocket connection
  const socket = new WebSocket('wss://pinky.uk.to:5000');

  // Send the message to the server when the WebSocket is open
  socket.onopen = () => {
    const blob = new Blob([messageInput.value]);

    // Use the FileReader API to read the data from the Blob
    const reader = new FileReader();
    reader.readAsText(blob, 'utf-8');
    reader.onloadend = () => {
      const data = reader.result;
      console.log(data); // This will log the data from the Blob to the console
      socket.send(data);
    };
  };

  // Display the message from the server
  socket.onmessage = (event) => {
    alert(event.data);
    console.log(event)
  };
});
const form = document.getElementById('form');
    const messageInput = document.getElementById('message');

    // Handle form submission
    form.addEventListener('submit', (event) => {
      event.preventDefault();

      // Create a new WebSocket connection
      const socket = new WebSocket('wss://pinky.uk.to:5000');

      // Send the message to the server when the WebSocket is open
      socket.onopen = () => {
        socket.send(new Blob([messageInput.value]));
      };

      // Display the message from the server
      socket.onmessage = (event) => {
        alert(event.data);
        console.log(event)
      };
    });
  </script>
</body>
</html>
